{"version":3,"file":"histore.js","sources":["../histore.js"],"sourcesContent":["/**\n * Copyright 2018 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *     http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport default function histore() {\n\t// Server\n\tif (history === undefined) {\n\t\treturn { get() {}, set () {} };\n\t}\n\n\tconst get = key => history.state && history.state[key];\n\tconst set = (key, value) => {\n\t\tconst state = {};\n\t\tstate[key] = value;\n\t\thistory.replaceState(state);\n\t};\n\tconst wrap = m => (state, title, url) => (\n\t\tm.call(history, Object.assign({}, history.state, state || {}), title, url)\n\t);\n\thistory.pushState = wrap(history.pushState);\n\thistory.replaceState = wrap(history.replaceState);\n\treturn { set, get };\n}\n"],"names":["undefined","history","get","set","const","wrap","m","state","title","url","call","Object","assign","pushState","replaceState","key","value"],"mappings":"eAae,WAEd,QAAgBA,IAAZC,QACH,OAASC,iBAAUC,kBAGpBC,IAMMC,WAAOC,mBAAMC,EAAOC,EAAOC,UAChCH,EAAEI,KAAKT,QAASU,OAAOC,UAAWX,QAAQM,MAAOA,OAAcC,EAAOC,KAIvE,OAFAR,QAAQY,UAAYR,EAAKJ,QAAQY,WACjCZ,QAAQa,aAAeT,EAAKJ,QAAQa,4BATvBC,EAAKC,GACjBZ,IAAMG,KACNA,EAAMQ,GAAOC,EACbf,QAAQa,aAAaP,iBAJVQ,UAAOd,QAAQM,OAASN,QAAQM,MAAMQ"}